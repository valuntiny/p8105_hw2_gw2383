p8105\_hw2\_gw2383
================
Guojing Wu
2018/10/1

-   [Problem 0](#problem-0)
-   [Problem 1](#problem-1)
    -   [Read, clean, retain and convert the data](#read-clean-retain-and-convert-the-data)
    -   [About this dataset](#about-this-dataset)
    -   [Some questions](#some-questions)
-   [Problem 2](#problem-2)

------------------------------------------------------------------------

Problem 0
---------

The folder contains the "entrance and exit for each subway station in NYC" is `local_data`.

Problem 1
---------

### Read, clean, retain and convert the data

``` r
subway_df = 
  read_csv("./local_data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% # read data
  janitor::clean_names() %>% # cleaning the name
  select(line:entry, vending, ada, ada_notes) %>% # filter
  mutate(.data = .,
    entry = ifelse(entry == "YES", TRUE, FALSE)) # convert
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

``` r
subway_df$entry[1:100]
```

    ##   [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [12]  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [23] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [34]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [45]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [56]  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [67]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [78]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ##  [89]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
    ## [100]  TRUE

### About this dataset

The variables this dataset contains are: line, station\_name, station\_latitude, station\_longitude, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11, entrance\_type, entry, vending, ada, ada\_notes.

The cleaning step includes reading: `read_csv`, cleanning variable names: `janitor::clean_names`, filter: `select` and convert: `mutate`.

The dimension are 1868 x 20.

This data is not tidy because it contains variable name "route", all the route names shall be integrated into a single column.

### Some questions

-   The number of distinct stations are:

``` r
dim(distinct(subway_df, station_name, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11))[1]
```

    ## [1] 456

-   The number of stations that are ADA compliant is:

``` r
distinct_df = distinct(subway_df, station_name, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11, ada)
sum(distinct_df$ada == TRUE)
```

    ## [1] 79

-   The proportion of station entrances / exits without vending allow entrance is:

``` r
sum(subway_df$vending == "NO") / length(subway_df$vending)
```

    ## [1] 0.09796574

Problem 2
---------

Read and clean the Mr. Trash Wheel sheet.

``` r
trash_df = 
  readxl::read_excel("./local_data/HealthyHarborWaterWheelTotals2017-9-26.xlsx", sheet = 1, range = "A2:N258") %>%
  janitor::clean_names() %>%
  mutate(weight_tons = "weight/tons", 
         volumn_cubic_yards = "volumn/cubic yards")
```
