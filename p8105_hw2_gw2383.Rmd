---
title: "p8105_hw2_gw2383"
author: "Guojing Wu"
date: "2018/10/1"
output:
  github_document:
    toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

***

## Problem 0

The folder contains the "entrance and exit for each subway station in NYC" is `local_data`.

## Problem 1

### Read, clean, retain and convert the data

```{r}
subway_df = 
  read_csv("./local_data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% # read data
  janitor::clean_names() %>% # cleaning the name
  select(line:entry, vending, ada, ada_notes) %>% # filter
  mutate(.data = .,
    entry = ifelse(entry == "YES", TRUE, FALSE)) # convert

subway_df$entry[1:100]
```

### About this dataset

The variables this dataset contains are: `r colnames(subway_df)`.

The cleaning step includes reading: `read_csv`, cleanning variable names: `janitor::clean_names`, filter: `select` and convert: `mutate`.

The dimension are `r dim(subway_df)[1]` x `r dim(subway_df)[2]`.

This data is not tidy because it contains variable name "route", all the route names shall be integrated into a single column.

### Some questions

* The number of distinct stations are:
```{r} 
dim(distinct(subway_df, station_name, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11))[1]
```

* The number of stations that are ADA compliant is:
```{r}
distinct_df = distinct(subway_df, station_name, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11, ada)
sum(distinct_df$ada == TRUE)
```

* The proportion of station entrances / exits without vending allow entrance is:
```{r}
sum(subway_df$vending == "NO") / length(subway_df$vending)
```

## Problem 2

Read and clean the Mr. Trash Wheel sheet.

```{r}
trash_df = 
  readxl::read_excel("./local_data/HealthyHarborWaterWheelTotals2017-9-26.xlsx", sheet = 1, range = "A2:N258") %>%
  janitor::clean_names() %>%
  mutate(weight_tons = "weight/tons", 
         volumn_cubic_yards = "volumn/cubic yards")
```

